<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Messages</title>
    <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="http://cdn.sockjs.org/sockjs-0.3.4.min.js"></script>
    <script src="vertxbus.js"></script>

</head>
<body>
<h2>Messages:</h2>
<script>
    var eb = new vertx.EventBus("/messages");
    eb.onopen = function() {
        console.log("opening the socket");
        eb.registerHandler("some-nice-addres", function (msg) {
            console.log("received the message " + msg);
            $("#root").append(
                "<p>" +
                    msg.from + ": " + msg.context +
                    "</p>");
        });
    };
    eb.onclose = function() {
      eb = null;
    };
</script>
<div id="root"></div>

</body>
</html>


















